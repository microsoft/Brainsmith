name: "bert"
description: "BERT transformer model compilation pipeline"
architecture: "transformer"

build_steps:
  # Cleanup and custom graph surgery
  - "common.cleanup"
  - "transformer.remove_head"
  - "transformer.remove_tail"
  - "transformer.qonnx_to_finn"
  
  # Reference IO generation and streamlining
  - "transformer.generate_reference_io"
  - "transformer.streamlining"
  - "transformer.infer_hardware"
  
  # FINN build steps (direct imports)
  - "step_create_dataflow_partition"
  - "step_specialize_layers"
  - "step_target_fps_parallelization"
  - "step_apply_folding_config"
  - "transformer.constrain_folding_and_set_pumped_compute"
  - "step_minimize_bit_width"
  - "step_generate_estimate_reports"
  - "step_hw_codegen"
  - "step_hw_ipgen"
  - "step_measure_rtlsim_performance"
  - "step_set_fifo_depths"
  - "step_create_stitched_ip"
  
  # Final metadata extraction
  - "transformer.shell_metadata_handover"

parameters:
  model_type: "bert"
  precision: "int8"